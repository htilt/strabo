<!doctype html>
<html>
  <head>
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css"
          rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="static/styles/main_6.css">
	  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <title>Canyon Image Uploader</title>
  </head>
  

  <body>
    <main class="container">
    <h3>Canyon Image Uploader</h3>
    <div class="form"><fieldset>
      <form id="image-upload"  method="POST" action="/post" enctype="multipart/form-data">
        <div class="row">
          <div class="form-wrapper col-lg-8">
            <legend>Upload a New Image</legend>
            <div class="form-group">
              <label for="title">Image Title:</label><br>
              <input class="form-control" type="text" name="title" size="15" placeholder="Untitled"><br>
            </div>
            
            <div class="form-group">
              <label for="img_description">Image Description:</label><br>
              <input class="form-control" type="text" name="img_description" size="80" placeholder="Describe the view unique to this image">
            </div>
         
            <div class="form-group">
              <label for="latitude">Latitude:</label><br>
              <input class="form-control" type="text" name="latitude" size="80" placeholder="If no value is supplied, defaults to any relevant geotags">
            </div>

            <div class="form-group">
              <label for="longitude">Longitude:</label><br>
              <input class="form-control" type="text" name="longitude" size="80" placeholder="If no value is supplied, defaults to any relevant geotags">
            </div>

            <div class="form-group">
              <label for="period">Period:</label><br>
              <input class="form-control" type="text" name="period" size="80" placeholder="Post-Restoration, Pre-Restoration">
            </div>

            <div class="form-group">
              <label for="interest_point">Interest Point:</label><br>
              <input class="form-control" type="text" name="interest_point" size="80" placeholder="Associated point of interest">
            </div>

            <div class="form-group">
              <label for="notes">Additional Notes:</label><br>
              <input class="form-control" type="text" name="notes" size="80">
            </div>
            
            <p></p>
            
            <input type="submit" value="Upload">
          </div>


          <div class="upload-wrapper col-lg-4">
            <input type="file" id="img-input" name="file"><br /><br />
            <img id="img-preview" src="#" alt="your image"></img>
          </div>
        
        </div>
      </form>
    </fieldset></div>

    
  
  <p></p>
  <p></p>
  <div class="table">
    <table class="table-bordered" margin="10px" id="img-preview">
    <tr>
      <th>Thumbnail</th>
      <th>Title</th>
      <th>Image Description</th>
      <th>Creation Date/Time</th> 
      <th>Latitude</th>
      <th>Longitude</th>
      <th>Period</th>
      <th>Interest Point</th>
      <th>Notes</th>
      <th>Filename</th>
    </tr>
    
    {% for img in images %}
    <tr>
      <td><img src="/static/test_thumbnails/{{ img.9 }}" alt="thumbnail" style="width:100px;height:100px;"></img></td>
      <td class="image_title">{{ img.0 | default("Untitled") }}</td>
      <td class="img_description">{{ img.1 }}</td>
      <td class="created_at">{{ img.2 }}</td> 
      <td class="latitude">{{ img.3 }}</td>
      <td class="longitude">{{ img.4 }}</td>
      <td class="period">{{ img.5 }}</td>
      <td class="interest_point">{{ img.6 }}</td>
      <td class="notes">{{ img.7 }}</td>
      <td class="file_name">{{ img.8 }}</td>
    </tr>
    {% endfor %}
    </table>
  </div>
    </main>
  </body>

  <script type="text/javascript">
		function readURL(input) {
			if (input.files && input.files[0]) {
				var reader = new FileReader();
				reader.onload = function (e) {
					$('#img-preview').attr('src', e.target.result);
				}
				reader.readAsDataURL(input.files[0]);
			 }
		}
		$("#img-input").change(function(){
      readURL(this);
		});
	</script>
</html>