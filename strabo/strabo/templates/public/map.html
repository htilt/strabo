{% extends RELPATH_TO_PUBLIC_TEMPLATES ~ BASE_TEMPLATE %}
{% block head %}
    {{ super() }}
    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/leaflet.css">
  <link rel="stylesheet" href="https://npmcdn.com/flickity@1.2/dist/flickity.min.css" media="screen">
  <!--rawgit.com NOT SUITABLE FOR PRODUCTION-->
  <link rel="stylesheet" href="http://rawgit.com/dimsemenov/PhotoSwipe/master/dist/photoswipe.css">
  <link rel="stylesheet" href="http://rawgit.com/dimsemenov/PhotoSwipe/master/dist/default-skin/default-skin.css">
    <link href="/static/public_styles/interest_point.css" rel="stylesheet">
    <link href="/static/public_styles/photoswipe.css" rel="stylesheet">
    <link href="/static/public_styles/map.css" rel="stylesheet">
    <script src="https://npmcdn.com/flickity@1.2/dist/flickity.pkgd.min.js"></script>
    <!--rawgit.com NOT SUITABLE FOR PRODUCTION-->
    <script src="http://rawgit.com/dimsemenov/PhotoSwipe/master/dist/photoswipe.min.js"></script>
    <script src="http://rawgit.com/dimsemenov/PhotoSwipe/master/dist/photoswipe-ui-default.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/leaflet.js"></script>
    <script>
        var features = {{ features_json|tojson }};

        //all these things come directly from the config file, so maybe there is a better way of making
        //all the information in the config file avaliable to the javascript. 
        var lat_setting = {{ LAT_SETTING }};
        var long_setting = {{ LONG_SETTING }};
        var initial_zoom = {{ INITIAL_ZOOM }};
        var tile_src = "{{ MAP_TILE_SRC }}";
        var tile_attributes = {{ LEAFLET_ATTRIBUTES|tojson }};
        var THUMBNAIL_MAX_SIZE = {{ THUMBNAIL_MAX_SIZE|tojson }};
        var LAYER_FIELDS = {{ LAYER_FIELDS|tojson }};
        var MAP_ICONS = {{ MAP_ICONS|tojson }};
    </script>
    <script src="../static/js/popup.js"></script>
    <script src="../static/js/map_info.js"></script>
    <script src="../static/js/{{ MAP_JS }}"></script>
{% endblock head %}

{% block content %}

<div class="row">
  <div id="map"></div>
</div>


{% include "public/popup.html" %}


{% include "public/photoswipe.html" %}


<!--../Map and Text Selection Row-->

{% endblock content %}

<!--Javascript files for Leaflet-->

{% block footer %}
    {{ super() }}
{% endblock footer %}
