
{% extends "/private/base.html" %}
{% set active_page = "upload_text" %}
{% block head %}
    {{ super() }}
{% endblock %}

{% block content %}
<main class="container">
  <div class="form">
    <fieldset>
      <form id="text_selection-upload" name="upload-form" method="POST" action="/admin/text/post" enctype="multipart/form-data">
        <div class="row">
          <div class="form-wrapper col-lg-8">
            <legend>Add a New Text Selection</legend>
            
            <div class="form-group">
              <label for="name">Text Selection Title:</label><br>
              <input class="form-control" type="text"  name="name" placeholder="Untitled"><br>
            </div>
            <div class="form-group">
              <label for="book">Book:</label><br>
              <input class="form-control" type="text" name="book">
            </div>
            <div class="form-group">
              <label for="section">Section:</label><br>
              <input class="form-control" type="text" name="section">
            <div class="form-group">
              <label for="pages">Pages:</label><br>
              <input class="form-control" type="text" name="pages">
            </div>
            <div class="form-group">
              <label for="passage">Passage:</label><br>
              <textarea class="form-control" type="text" rows='7' name="passage" placeholder="Enter text here."></textarea>
            </div>
            <div class="form-group">
              <label for="interest_point">Interest Point:</label><br>
              <select class="form-control" name='interest_point'>
                <option selected name="ip_auto"> Select One </option>
                {% for interest_point in interest_points %}
                <option name="interest_point"> {{ interest_point['name'] }} </option>
                {% endfor %}
              </select>
            </div>

            <div class="form-group">
              <label for="event">Event:</label><br>
              <select class="form-control" name='event'>
                <option selected name="event_auto"> Select One </option>
                {% for event in events %}
                <option name="event"> {{ event['title'] }} </option>
                {% endfor %}
              </select>
            </div>
            <div class="form-group">
              <label for="notes">Additional Notes:</label><br>
              <textarea class="form-control" type="text" name="notes" placeholder="Add any additional notes for private reference."></textarea>
            </div>
            <div class="form-group">
              <label for="tags">Tags:</label><br>
              <input class="form-control" type="text" name="tags" placeholder="Add tags separated by commas.">
            </div>

            <p></p>
            
            <input type="submit" value="Upload">
          </div>
        </div>
      </form>
    </fieldset>
  </div>

  <p></p>
  <p></p>
  <div class="table">
    <table class="table-bordered" margin="10px" id="preview">
      <tr>
        <th>Title</th>
        <th>Book</th>
        <th>Section</th> 
        <th>Pages</th>
        <th>Event</th>
        <th>Interest Point</th>        
        <th>Additional Notes</th>
      </tr>
      
      {% for text_selection in text_selections %}
      <tr>
        <td class="title">{{ text_selection['name'] | default("Untitled") }}</td>
        <td class="book">{{ text_selection['book'] }}</td>
        <td class="section">{{ text_selection['section'] }}</td> 
        <td class="pages">{{ text_selection['pages'] }}</td>
        <td class="event">{{ text_selection['event'] }}</td>
        <td class="interest_point">{{ text_selection['interest_point'] }}</td>   
        <td class="notes">{{ text_selection['notes'] }}</td>
      </tr>
      {% endfor %}
    </table>
  </div>
</main>
{% endblock %}

{% block footer %}
    {{ super () }}
{% endblock %}